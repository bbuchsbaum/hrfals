% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cfals_design_utils.R
\name{create_fmri_design}
\alias{create_fmri_design}
\title{Create design matrices for CFALS estimation}
\usage{
create_fmri_design(event_model, hrf_basis)
}
\arguments{
\item{event_model}{An object of class `event_model`.}

\item{hrf_basis}{An `HRF` basis object.}
}
\value{
A list with elements `X_list`, `d`, `k`, `Phi`, and
  `h_ref_shape_norm`.
}
\description{
Convenience helper that constructs the list of design matrices for
a given `event_model` and HRF basis.  It also returns useful
metadata such as the number of basis functions and conditions as
well as a reconstruction matrix for converting HRF coefficients to
sampled shapes and a normalised reference HRF vector for sign
alignment. The reference HRF is generated using
`fmrireg::HRF_SPMG1` and sampled on the same grid as `Phi`.
}
